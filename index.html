<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PROTOCOL: ADAPT</title>
    <link rel="stylesheet" href="style.css">
    <!-- Sci-Fi Font -->
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
</head>

<body>

    <!-- UI Overlays -->
    <div id="start-screen" class="ui-overlay active">
        <div class="panel">
            <h1>PROTOCOL: <span class="highlight">ADAPT</span></h1>
            <p class="mission-brief">OBJECTIVE: SURVIVE THE ADAPTIVE MAZE.</p>
            <div class="menu-controls">
                <button id="start-btn" class="cyber-btn">INITIALIZE</button>
                <button id="help-btn" class="cyber-btn sm">?</button>
            </div>
            <div class="theme-select">
                <span>THEME:</span>
                <button class="theme-btn active" data-theme="cyberpunk">CYBER</button>
                <button class="theme-btn" data-theme="arcade">ARCADE</button>
                <button class="theme-btn" data-theme="noir">NOIR</button>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div id="help-screen" class="ui-overlay hidden">
        <div class="panel">
            <h2>SYSTEM MANUAL</h2>
            <ul class="help-list">
                <li><span class="icon">‚úõ</span> <strong>WASD / ARROWS</strong> to Move</li>
                <li><span class="icon">‚ö°</span> <strong>SPACE</strong> to use ABILITY (Stun)</li>
                <li><span class="icon">‚óÜ</span> Avoid <strong>ENEMIES</strong></li>
                <li><span class="icon">‚óè</span> Collect <strong>DATA</strong> for Score</li>
                <li><span class="icon">‚óé</span> Reach <strong>EXIT</strong> to Advance</li>
            </ul>
            <button id="close-help-btn" class="cyber-btn">ACKNOWLEDGE</button>
        </div>
    </div>

    <div id="game-over-screen" class="ui-overlay hidden">
        <div class="panel">
            <h1 id="go-title">SYSTEM FAILURE</h1>
            <div class="stats-summary">
                <p>FINAL SCORE: <span id="final-score" class="highlight">0</span></p>
                <p>SECTOR REACHED: <span id="final-level" class="highlight">1</span></p>
            </div>
            <button id="restart-btn" class="cyber-btn">REBOOT SYSTEM</button>
        </div>
    </div>

    <!-- CRT Screen Effect Overlay -->
    <div class="scanlines"></div>
    <div class="vignette"></div>

    <div class="main-interface blur-target">
        <header class="hud-header">
            <div class="logo-area">
                <div class="logo-glitch" data-text="ADAPT">PROTOCOL: ADAPT</div>
                <div class="actions-area">
                    <button id="ingame-help" class="icon-btn">?</button>
                    <!-- <button id="mute-toggle" class="icon-btn">üîä</button> -->
                </div>
            </div>

            <div class="hud-stats">
                <div class="stat-unit">
                    <div class="label">INTEGRITY</div>
                    <div class="bar-container">
                        <div class="value health-color" id="health-value">100</div>
                        <div class="bar-bg">
                            <div id="health-bar" class="bar-fill"></div>
                        </div>
                    </div>
                </div>
                <!-- Ability Cooldown UI -->
                <div class="stat-unit">
                    <div class="label">ABILITY</div>
                    <div class="bar-container">
                        <div class="value ability-color" id="ability-status">READY</div>
                        <div class="bar-bg">
                            <div id="ability-bar" class="bar-fill ability-fill"></div>
                        </div>
                    </div>
                </div>
                <!-- Hidden on mobile to save space -->
                <div class="stat-unit mobile-hide">
                    <div class="label">SECTOR</div>
                    <div class="value level-color" id="level-value">1</div>
                </div>
            </div>
        </header>

        <!-- The Game Area -->
        <div class="canvas-wrapper">
            <!-- Decorative Tech Brackets -->
            <div class="corner-bracket top-left"></div>
            <div class="corner-bracket top-right"></div>
            <div class="corner-bracket bottom-left"></div>
            <div class="corner-bracket bottom-right"></div>
            <div class="grid-overlay"></div>

            <canvas id="gameCanvas"></canvas>

            <!-- Message Overlay -->
            <div id="message" class="message-overlay hidden">SYSTEM READY</div>
        </div>

        <div class="controls-legend desktop-only">
            <div class="key-group"><span class="key">W</span><span class="key">A</span><span class="key">S</span><span
                    class="key">D</span></div>
            <span class="instruction">MOVE</span>
            <div class="key-group"><span class="key wide">SPACE</span></div>
            <span class="instruction">PULSE</span>
        </div>

        <!-- Mobile Controls -->
        <div class="mobile-controls touch-only">
            <div class="dpad">
                <button id="btn-up" class="dpad-btn up">‚ñ≤</button>
                <div class="dpad-middle">
                    <button id="btn-left" class="dpad-btn left">‚óÄ</button>
                    <button id="btn-down" class="dpad-btn down">‚ñº</button>
                    <button id="btn-right" class="dpad-btn right">‚ñ∂</button>
                </div>
            </div>
            <button id="btn-ability" class="action-btn">‚ö°</button>
        </div>
    </div>

    <script src="index.js"></script>
</body>

</html>